<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>mySync</title>
    <script src="http://wolfpc/recrepo/vue/vue-2.6.11-dev.js"></script>
    <script src="http://wolfpc/recrepo/jquery/jquery-1.10.2-min.js"></script>
    <link href="http://wolfpc/recrepo/bootstrap3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="http://wolfpc/recrepo/bootstrap3.3.7/js/bootstrap.min.js"></script>
    <style>
        body {
            padding-left: 9px;
            padding-right: 9px;
        }

        .con_body_item {
            display: inline-block;
            vertical-align: top;
        }

        .panel {
            margin-bottom: 3px;
            margin-right: 5px;
        }
    </style>
</head>

<body>
    <div class="page-header">
        <h1>mySync<small>index</small></h1>
    </div>
    {% raw %}
    <div class="con_body" id="api_panel">

        <div class="panel panel-info con_body_item" v-for="(node,index) in api_list">

            <div class="panel-heading" @click=hide_toggle(index)>
                <h3 class="panel-title">{{node.title}} apis
                    <!-- <a href="#"><small>hide</small></a> -->
                </h3>
            </div>
            <div class="panel-body" v-for="(item,i) in node.list" v-show="node.show_list">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">{{i+1}}. {{item.api_name}} <small>{{item.method}}</small></h3>
                    </div>
                    <div class="panel-body">
                        <a :href=this_address+item.routes>{{item.routes}}</a><br>
                        <span v-html=item.details></span>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <hr>

    <div class="panel panel-default" id="Statistics_panel">
        <div class="panel-heading">
            <h3 class="panel-title">{{title}}</h3>
        </div>
        <div class="panel-body">
            <table class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th>{{th[0]}}</th>
                        <th>{{th[1]}}</th>
                        <th>{{th[2]}}</th>
                        <th>{{th[3]}}</th>
                        <th>{{th[4]}}</th>
                        <th>{{th[5]}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="item in data">
                        <td>{{item.apiname}}</td>
                        <td>{{item.apiroute}}</td>
                        <td>{{item.method}}</td>
                        <td>{{item.numberofcalls}}</td>
                        <td>{{item.lasttime}}</td>
                        <td><a href="#">set to zero</a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    {% endraw %}

    <script>
        new Vue({
            el: "#Statistics_panel",
            data: {
                title: "Api Call Statistics",
                th: ['Api Name', 'Api Route', 'Methods', 'Number Of Calls', 'Last Call Time', 'Operation'],
                data: [
                    { apiname: 'Sticky index', apiroute: '/v2/sticky', method: 'GET', numberofcalls: 20, lasttime: '2017-11-30 15:30:33' },
                    { apiname: 'get Sticky', apiroute: '/v2/sticky/get', method: 'GET POST', numberofcalls: 20, lasttime: '2017-11-30 15:30:33' },
                    { apiname: 'add Sticky', apiroute: '/v2/sticky/add', method:'GET POST',numberofcalls: 20, lasttime: '2017-11-30 15:30:33' },
                    { apiname: 'del Sticky', apiroute: '/v2/sticky/del', method:'GET POST',numberofcalls: 20, lasttime: '2017-11-30 15:30:33' },
                ]
            },
            methods: {

            }
        });
    </script>






    <hr>
    <!-- foot -->
    <p class="navbar-text pull-left">
        <a href="/v2/statistics" class="navbar-link">statistics</a>
    </p>


    <script src="/static/index.js"></script>

</body>

</html>